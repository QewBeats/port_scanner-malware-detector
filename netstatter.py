from utility import utility

import string



def readaline(input_data):
    for line in input_data:
        yield line

def printProto(line):
    print("Proto :",line[0])
    print("local Addr:",line[1])
    print("Foreign Addr:",line[2])
    print("State:",line[3])

out_put=utility.system_call("netstat -n")

split_out_put=[]
split_out_put=out_put.split("\n")


for line in readaline(split_out_put):

   if (line.strip().startswith("TCP") or line.strip().startswith("UDP")):
       splited_line = line.split()
       printProto(splited_line)
       print("\n")










#f=open('netstat.txt','w+')
#f.write(util)

#print (util)